{% load i18n %}
{% load cove_tags %}

<table class="table">
   <thead>
     <tr> 
       <th>{% trans 'Field' %}</th> 
       <th>{% trans 'Path to Field' %}</th> 
       <th>{% trans 'Codelist' %}</th> 
       <th>{% trans 'Additional Values Used' %}</th>
     </tr>
   </thead>
   <tbody>
   {% for path, detail in additional_codelist_values.items %}
      <tr>
        <td>{{detail.field}}</td> <td>{{detail.path}}</td> 
        <td>
          <a href="http://datapipes.okfnlabs.org/csv/html/?url={{detail.codelist_url}}" >{{detail.codelist}}</a>
          {% if detail.codelist_add_url or detail.codelist_sub_url %}
            ( 
            {% if detail.codelist_add_url %}
              <a href="http://datapipes.okfnlabs.org/csv/html/?url={{detail.codelist_add_url|urlencode}}">+</a> 
            {% endif %}
            {% if detail.codelist_sub_url %}
              <a href="http://datapipes.okfnlabs.org/csv/html/?url={{detail.codelist_sub_url|urlencode}}">-</a>
            {% endif %}
            )
          {% endif %}

        </td> 
        <td>{{detail.values|join:", "}}</td>
      </tr>
   {% endfor %}
   </tbody>
</table>
